# 项目代码审查与优化计划

## 🎯 目标
全面审查并优化项目代码，移除所有未使用的代码元素和数据库字段。

## 📋 执行计划

### 阶段1: 代码审查与分析

#### 1.1 后端代码审查
- [ ] 检查 `scripts/` 目录下的一次性脚本使用情况
- [ ] 识别 `app.py` 中未使用的导入和函数
- [ ] 检查 `lda_analysis.py` 中的未使用函数
- [ ] 审查迁移脚本 (`migrate_*.py`) 是否已废弃

#### 1.2 前端代码审查
- [ ] 检查 `HelloWorld.vue` 是否被使用
- [ ] 审查所有 `.vue` 文件中的未使用导入
- [ ] 检查 `utils/responsive.js` 的使用情况
- [ ] 审查 `router.js` 中的未使用路由

#### 1.3 数据库字段审查
- [ ] 分析 `models.py` 中的每个字段
- [ ] 检查 `app.py` 中的 SQL 查询使用的字段
- [ ] 识别从未被查询或更新的字段

### 阶段2: 备份与测试环境准备

#### 2.1 代码备份
- [ ] 创建 Git 备份分支
- [ ] 导出数据库结构快照

#### 2.2 测试环境验证
- [ ] 确保测试脚本可运行
- [ ] 记录当前 API 接口测试状态

### 阶段3: 清理未使用的代码

#### 3.1 后端清理
- [ ] 移除 `scripts/` 目录中的一次性脚本
- [ ] 移除 `.bat` 批处理文件（如已创建替代脚本）
- [ ] 移除 `app.py` 中未使用的导入
- [ ] 移除 `lda_analysis.py` 中未使用的函数

#### 3.2 前端清理
- [ ] 移除未使用的组件 (`HelloWorld.vue`)
- [ ] 移除未使用的导入和变量
- [ ] 清理未使用的路由

### 阶段4: 数据库字段优化

#### 4.1 识别未使用字段
- [ ] 分析 `Poem` 模型中未被 API 使用的字段
- [ ] 分析 `User` 模型中未被 API 使用的字段
- [ ] 分析 `Review` 模型中未被 API 使用的字段

#### 4.2 安全删除流程
- [ ] 创建数据库迁移脚本
- [ ] 在测试环境中验证删除操作
- [ ] 记录受影响的查询和 API

### 阶段5: 验证与文档

#### 5.1 功能验证
- [ ] 运行 API 测试
- [ ] 验证前端功能完整性
- [ ] 检查 LDA 模型功能

#### 5.2 生成文档
- [ ] 记录移除的代码片段
- [ ] 记录删除的数据库字段
- [ ] 记录测试结果

## ⚠️ 风险控制
- 所有删除操作前进行完整备份
- 在测试环境验证后应用于生产
- 保留回滚脚本

## 📊 预期成果
- 代码体积减少 20-30%
- 数据库结构简化
- 移除所有死代码和废弃文件